<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PascalGames V4 - Ultimate</title>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>

    <style>
        /* --- ESTILOS GENERALES --- */
        body, html {
            margin: 0; padding: 0; overflow: hidden;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1a1a1a;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        .camera-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1;
        }
        .input_video { display: none; }
        .output_canvas {
            width: 100%; height: 100%; object-fit: cover; transform: scaleX(-1);
        }

        #game-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 5; pointer-events: none;
        }

        #finger-cursor {
            position: absolute; width: 25px; height: 25px;
            background: rgba(255, 0, 55, 0.6);
            border: 3px solid white; border-radius: 50%;
            z-index: 10; pointer-events: none; display: none;
            box-shadow: 0 0 15px rgba(255, 0, 55, 0.8);
            transition: left 0.05s linear, top 0.05s linear;
        }

        #hud {
            position: absolute; top: 0; width: 100%;
            text-align: center; pointer-events: auto; z-index: 15;
            background: linear-gradient(to bottom, rgba(0,0,0,0.6), transparent);
            padding: 20px 0;
        }

        .target-box {
            display: inline-block; width: 55px; height: 55px; margin: 4px;
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid #333; border-radius: 12px;
            font-size: 35px; line-height: 55px; font-weight: bold; color: #333;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: transform 0.2s;
        }
        .filled { background: #4CAF50; color: white; border-color: #2E7D32; transform: scale(1.1); }

        .bubble {
            position: absolute; width: 85px; height: 85px;
            background: radial-gradient(circle at 30% 30%, #fff176, #fbc02d);
            border: 4px solid #fff; border-radius: 50%;
            text-align: center; line-height: 80px;
            font-size: 45px; font-weight: 900; color: #e65100;
            box-shadow: 0 8px 15px rgba(0,0,0,0.4);
            cursor: pointer; pointer-events: auto;
            touch-action: manipulation;
            transition: transform 0.1s, opacity 0.2s;
            animation: float 5s infinite ease-in-out alternate;
        }
        .bubble:active { transform: scale(0.9); filter: brightness(0.8); }

        .screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.92); z-index: 50;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            color: white; text-align: center;
            transition: opacity 0.5s;
        }

        h1 { font-size: 40px; margin: 0 0 20px 0; text-shadow: 0 0 10px #2196F3; }
        p { font-size: 18px; color: #ccc; max-width: 80%; margin: 10px auto; }

        button {
            padding: 18px 50px; font-size: 22px; font-weight: bold;
            background: linear-gradient(45deg, #2196F3, #21CBF3);
            color: white; border: none; border-radius: 50px;
            cursor: pointer; margin-top: 30px;
            box-shadow: 0 5px 20px rgba(33, 203, 243, 0.5);
            transition: transform 0.2s;
        }
        button:active { transform: scale(0.95); }

        #reward-image {
            width: 80%; max-width: 400px; height: 300px;
            object-fit: cover; border-radius: 20px;
            border: 5px solid white;
            box-shadow: 0 0 30px rgba(255,255,255,0.2);
            margin: 20px 0;
            background-color: #333;
        }

        .hidden { opacity: 0; pointer-events: none; display: none !important; }
        
        @keyframes float { 0% {transform: translateY(0px);} 100% {transform: translateY(-20px);} }
        @keyframes shake { 0%, 100% {transform: translateX(0);} 25% {transform: translateX(-10px);} 75% {transform: translateX(10px);} }
        .shake-anim { animation: shake 0.4s; background-color: #ff5252 !important; color: white !important; }
    </style>
</head>
<body>
    <!-- CONTENIDO COMPLETO TAL CUAL SOLICITADO -->
</body>
</html>
